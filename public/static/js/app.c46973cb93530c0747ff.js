webpackJsonp([1,2],{111:function(t,e){},112:function(t,e){},113:function(t,e){},114:function(t,e){},118:function(t,e,n){n(111);var i=n(13)(n(67),n(121),null,null);t.exports=i.exports},119:function(t,e,n){n(113);var i=n(13)(n(68),n(123),null,null);t.exports=i.exports},120:function(t,e,n){n(112);var i=n(13)(n(69),n(122),null,null);t.exports=i.exports},121:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fade",appear:""}},[n("div",{staticClass:"loading"},[n("div",{staticClass:"loading-main"},[n("div",{staticClass:"loading-spinner"},[n("div",{staticClass:"loading-bounce1"}),t._v(" "),n("div",{staticClass:"loading-bounce2"})]),t._v(" "),n("div",{staticClass:"loading-value"},[t._v("\n\t\t\t\t\t"+t._s(t.progress)+"%\n\t\t\t\t")])])])])},staticRenderFns:[]}},122:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"widget",style:t.widgetStyle},[n("div",{staticClass:"inner",style:t.innerStyle},["image"===t.data.type?n("div",{class:t.data.type,style:{backgroundImage:"url("+t.data.url+")"}}):t._e(),t._v(" "),"text"===t.data.type?n("div",{class:t.data.type},[t._v("\n\t\t\t\t"+t._s(t.data.content)+"\n\t  \t")]):t._e()])])},staticRenderFns:[]}},123:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:t.transitionName}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"page",style:t.pageStyle},t._l(t.data.widgets,function(e){return n("widget",{key:t.data.id+"-"+e.id,attrs:{data:e,play:t.show}})}))])},staticRenderFns:[]}},124:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{style:t.appStyle,attrs:{id:"app"}},[t._l(t.app.pages,function(e,i){return n("page",{key:e.id,attrs:{show:t.pageIndex===i,data:e,action:t.action,direction:t.app.extends.direction}})}),t._v(" "),t.pageIndex===-1?n("loading",{attrs:{progress:t.progress}}):t._e()],2)},staticRenderFns:[]}},126:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(47),a=n(46),r=n.n(a),o=n(45);n.n(o);i.a.config.productionTip=!1,new i.a({el:"#app",template:"<App/>",components:{App:r.a}})},30:function(t,e,n){"use strict";var i=n(70),a=n.n(i);n.d(e,"b",function(){return r}),n.d(e,"a",function(){return o}),n.d(e,"c",function(){return s});var r=320,o=504,s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1],n={directory:"",progress:function(){},complete:function(){},onerror:function(){}};e=a()({},n,e),e.directory&&!e.directory.endsWith("/")&&(e.directory+="/");var i=0,r=function(){var n=parseInt(i/t.length*100);e.progress(n),100===n&&e.complete()};r(),t.forEach(function(n,a){var o=new Image;o.src=e.directory+t[a],o.onload=function(){i++,r()},o.onerror=function(){i++,r(),e.onerror(o.src)}})}},45:function(t,e){},46:function(t,e,n){n(114);var i=n(13)(n(66),n(124),null,null);t.exports=i.exports},66:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(74),a=n.n(i),r=n(72),o=n.n(r),s=n(30),c=n(48),d=n.n(c),p=n(118),u=n.n(p),l=n(119),h=n.n(l),f=n(115),g=n.n(f);e.default={components:{page:h.a,loading:u.a},computed:{appStyle:function(){return{width:this.width+"px",height:this.height+"px"}},images:function(){var t=[];return this.app.pages.forEach(function(e){e.widgets.forEach(function(e){"image"===e.type&&t.push(e.url)})}),t}},methods:{screenAdapter:function(){var t=document.documentElement.clientWidth,e=document.documentElement.clientHeight;t>e&&(t=e/s.a*s.b),document.querySelector("html").style.fontSize=t/20+"px",this.width=t,this.height=e},fetchAppData:function(){var t=this;return o()(a.a.mark(function e(){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("http://localhost:8888/data/2.json");case 2:n=e.sent,t.app=n.data,document.title=n.data.title,t.loadAppImages(),t.listenSwipeEvent();case 7:case"end":return e.stop()}},e,t)}))()},loadAppImages:function(){var t=this;n.i(s.c)(this.images,{progress:function(e){t.progress=e},complete:function(){setTimeout(function(){t.pageIndex=0},300)}})},listenSwipeEvent:function(){var t=new g.a(this.$el,{preventDefault:!0,gesture:!0});t.get("swipe").set({direction:g.a.DIRECTION_ALL}),this.app.extends&&"vertical"===this.app.extends.direction&&(t.on("swipeup",this.nextPage),t.on("swipedown",this.prevPage)),this.app.extends&&"horizontal"===this.app.extends.direction&&(t.on("swipeleft",this.nextPage),t.on("swiperight",this.prevPage))},nextPage:function(){var t=this;this.action="next",this.$nextTick(function(){t.pageIndex<t.app.pages.length-1?t.pageIndex++:t.app.extends.loop&&(t.pageIndex=0)})},prevPage:function(){var t=this;this.action="prev",this.$nextTick(function(){t.pageIndex>0?t.pageIndex--:t.app.extends.loop&&(t.pageIndex=t.app.pages.length-1)})}},data:function(){return{app:{},width:s.b,height:s.a,action:"",pageIndex:-1,progress:0}},created:function(){this.fetchAppData()},mounted:function(){window.addEventListener("resize",this.screenAdapter,!1),window.addEventListener("touchmove",function(t){return t.preventDefault()},!1),this.screenAdapter()}}},67:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{progress:{type:Number,required:!0}}}},68:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(120),a=n.n(i);e.default={props:{show:{type:Boolean,required:!0},data:{type:Object,required:!0},direction:{type:String,default:"vertical"},effect:{type:String,default:"scroll"},action:{type:String,default:""}},components:{widget:a.a},computed:{pageStyle:function(){return{backgroundColor:this.data.background.color,backgroundImage:"url("+this.data.background.image+")"}},transitionName:function(){return this.direction+"-"+this.effect+"-"+this.action}}}},69:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(73),a=n.n(i),r=n(30),o=n(110),s=n.n(o);e.default={props:{play:{type:Boolean,required:!0},data:{type:Object,required:!0}},computed:{widgetStyle:function(){var t={};return t.width=this.transformPercent(this.data.style.width,r.b),t.left=this.transformPercent(this.data.style.left,r.b),t.top=this.transformPercent(this.data.style.top,r.a),"text"===this.data.type?delete t.height:t.height=this.transformPercent(this.data.style.height,r.a),t},innerStyle:function(){var t=s()(!0,{},this.data.style),e=(t.width,t.height,t.left,t.top,a()(t,["width","height","left","top"]));e.fontSize=e.fontSize/16+"rem",e.borderWidth+="px",e.borderRadius+="px";var n=e.transform;return e.transform="rotate("+n.rotate+"deg)",e}},methods:{transformPercent:function(t,e){return t/e*100+"%"},playAnimation:function(){if(this.animationIndex<this.data.animations.length){var t=this.data.animations[this.animationIndex],e=t.name.replace("$1",t.direction),n=t.duration,i=t.timing,a=t.delay,r=t.count;r=0===r?"infinite":r,this.$el.style.animation=e+" "+n+"s "+i+" "+a+"s "+r+" both",this.animationIndex++}},stopAnimation:function(){this.$el.style.animation=""}},watch:{play:function(t){t?(this.animationIndex=0,this.playAnimation()):(this.animationIndex=this.data.animations.length,this.stopAnimation())}},data:function(){return{animationIndex:0}},mounted:function(){this.$el.addEventListener("webkitAnimationEnd",this.playAnimation,!1)}}}},[126]);
//# sourceMappingURL=app.c46973cb93530c0747ff.js.map